{% load i18n %}{% load static %}

{# Render the form using Bootstrap Italia styles #}
{% for field in wizard.form %}
  <div class="form-group mb-3">
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    <input type="{{ field.field.widget.input_type|default:'text' }}" 
           name="{{ wizard.steps.current }}-{{ field.name }}" 
           class="form-control" 
           id="{{ field.id_for_label }}" 
           {% if 'otp' in field.name or 'token' in field.name or 'code' in field.name %}
             inputmode="numeric" 
             pattern="[0-9]{6}" 
             maxlength="6" 
             title="Inserisci i 6 numeri del token"
           {% endif %}
           {% if field.field.required %}required{% endif %}
           {% if field.value %}value="{{ field.value }}"{% endif %}>
    {% if field.help_text %}
      <small class="form-text text-muted">{{ field.help_text|safe }}</small>
    {% endif %}
    {% if field.errors %}
      <div class="alert alert-danger p-2 mt-1">
        {{ field.errors }}
      </div>
    {% endif %}
  </div>
{% endfor %}

{% if wizard.form.non_field_errors %}
  <div class="alert alert-danger">
    {{ wizard.form.non_field_errors }}
  </div>
{% endif %}
